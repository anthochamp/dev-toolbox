extends:
  - common.yaml

pre-commit:
  parallel: true
  commands:
    format:
      glob: "*.{dart}"
      run: dart format --output=none --set-exit-if-changed ${staged_files}
    analyze:
      glob: "*.{dart}"
      run: dart analyze --fatal-infos {staged_files}
    ac_code_metrics:
      glob: "*.{dart}"
      run: |
        if dart pub deps --executables | grep -q ac_code_metrics; then
          dart run ac_code_metrics:metrics analyze {staged_files}
        fi
